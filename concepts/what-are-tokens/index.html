<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Tokens - Basis Theory Guides</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Tokens | Basis Theory Guides</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Tokens" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Explore step-by-step guides to use our APIs and SDKs." /> <meta property="og:description" content="Explore step-by-step guides to use our APIs and SDKs." /> <link rel="canonical" href="https://developers.basistheory.com/concepts/what-are-tokens/" /> <meta property="og:url" content="https://developers.basistheory.com/concepts/what-are-tokens/" /> <meta property="og:site_name" content="Basis Theory Guides" /> <meta property="og:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="og:image:height" content="630" /> <meta property="og:image:width" content="1200" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="twitter:title" content="Tokens" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Explore step-by-step guides to use our APIs and SDKs.","headline":"Tokens","image":{"width":1200,"height":630,"url":"https://cdn.basistheory.com/images/seo/guides-opengraph.png","@type":"imageObject"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://developers.basistheory.com/assets/images/logos-guides.svg"}},"url":"https://developers.basistheory.com/concepts/what-are-tokens/"}</script> <!-- End Jekyll SEO tag --> </head> <script defer data-api="https://analytics.basistheory.com/api/event" data-domain="developers.basistheory.com" src="https://cdn.basistheory.com/javascript/analytics.js"></script> <!-- Google Tag Manager --> <script>(function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-M56229L');</script> <!-- End Google Tag Manager --> <!-- Iubenda --> <script type="text/javascript"> var _iub = _iub || []; _iub.csConfiguration = { "ccpaAcknowledgeOnLoad": true, "consentOnContinuedBrowsing": false, "countryDetection": true, "gdprAppliesGlobally": false, "lang": "en", "siteId": 2378844, "cookiePolicyId": 13137791, "callback": { "onPreferenceExpressedOrNotNeeded": function (preference) { dataLayer.push({ iubenda_ccpa_opted_out: _iub.cs.api.isCcpaOptedOut() }); if (!preference) { dataLayer.push({ event: "iubenda_preference_not_needed" }); } else { if (preference.consent === true) { dataLayer.push({ event: "iubenda_consent_given" }); } else if (preference.consent === false) { dataLayer.push({ event: "iubenda_consent_rejected" }); } else if (preference.purposes) { for (var purposeId in preference.purposes) { if (preference.purposes[purposeId]) { dataLayer.push({ event: "iubenda_consent_given_purpose_" + purposeId }); } } } } } }, "banner": { "acceptButtonCaptionColor": "#070a1b", "acceptButtonColor": "#1ad1db", "acceptButtonDisplay": true, "backgroundColor": "#141729", "closeButtonDisplay": false, "customizeButtonCaptionColor": "#d2d2d2", "customizeButtonColor": "#1a1e32", "customizeButtonDisplay": true, "position": "bottom", "rejectButtonCaptionColor": "white", "rejectButtonColor": "#1e2337", "rejectButtonDisplay": true, "textColor": "#e5e6ec", "acceptButtonCaption": "Accept All", "content": "<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"true\" />\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap\" rel=\"stylesheet\" />\n<style>\ndiv#iubenda-cs-banner {\n font-size: 16px !important;\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-container {\n border-top: 1px solid #2f3244 !important;\n}\n\ndiv#iubenda-cs-banner .iubenda-banner-content {\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n font-weight: 400 !important;\n color: #8389a6 !important;\n font-size: 14px !important; \n}\n\ndiv#iubenda-cs-title {\n color: #E5E6EC !important;\n font-size: 16px !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-opt-group button {\n padding: 12px 32px !important;\n font-weight: 600 !important;\n border-radius: 4px !important;\n}\n\nbutton.iubenda-cs-accept-btn {\n box-shadow: 1px 1px 3px 0 rgb(49 255 255 / 30%), inset 0 0 0 1px hsl(0deg 0% 100% / 40%);\n margin-left: 16px !important;\n}\n\n@media (min-width: 992px) {\n #iubenda-cs-banner.iubenda-cs-default div.iubenda-cs-rationale {\n max-width: 1200px !important;\n width: 100% !important;\n }\n}\n</style><div id=\"iubenda-cs-title\">&#x1f36a; &nbsp;Cookie Notice</div><div id=\"iubenda-cs-paragraph\">\n\nBy clicking \"Accept All\", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. View our <a href=\"https://basistheory.com/privacy-policy\" target=\"_blank\">Cookie Policy</a> for more information.\n</div>", "rejectButtonCaption": "" } }; </script> <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script> <!-- End Iubenda --> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <header class="site-header"> <a class="site-header-logo" href="https://developers.basistheory.com/"> </a> <div class="documentation-links"> <a class="documentation-link " href="/getting-started">Get Started</a> <a class="documentation-link active" href="/">Documentation</a> <a class="documentation-link" href="https://docs.basistheory.com/api-reference/#introduction">API Reference</a> <a class="documentation-link" href="https://docs.basistheory.com/elements/#introduction">Elements</a> </div> <div class="portal-links"> <a class="portal-sign-in" href="https://portal.basistheory.com">Sign In</a> <a class="portal-create-account" href="https://portal.basistheory.com/register">Create Account</a> </div> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </header> <div class="side-bar"> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-list"><a class="side-bar-category home-link" href="/"> <div class="icon-and-category-name"> <div class="home-icon category-icon-spacing "></div> <div class="side-bar-category-name home-link ">Home</div> </div> </a> <div class="side-bar-category" id="getting-started-category-name-and-icon"> <div class="icon-and-category-name"> <div class="getting-started-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Getting Started</div> </div> <a class="category-expander" id="getting-started-category-expander"></a> </div> <div class="side-bar-category-items" id="getting-started-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-curl/" class="nav-list-link ">Quickstart with cURL</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-nodejs/" class="nav-list-link ">Quickstart with Node.js</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-python/" class="nav-list-link ">Quickstart with Python</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-ruby/" class="nav-list-link ">Quickstart with Ruby</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-dotnet/" class="nav-list-link ">Quickstart with .NET</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-java/" class="nav-list-link ">Quickstart with Java</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-go/" class="nav-list-link ">Quickstart with Go</a> </div></div> <div class="side-bar-category" id="blueprints-category-name-and-icon"> <div class="icon-and-category-name"> <div class="blueprints-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Blueprints</div> </div> <a class="category-expander" id="blueprints-category-expander"></a> </div> <div class="side-bar-category-items" id="blueprints-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/blueprints/pci/" class="nav-list-link ">PCI Blueprint</a> </div></div> <div class="side-bar-category" id="concepts-category-name-and-icon"> <div class="icon-and-category-name"> <div class="concepts-icon category-icon-spacing active"></div> <div class="side-bar-category-name active">Concepts</div> </div> <a class="category-expander" id="concepts-category-expander"></a> </div> <div class="side-bar-category-items" id="concepts-category-items"><div class="nav-list-item active"> <a href="https://developers.basistheory.com/concepts/what-are-tokens/" class="nav-list-link active">Tokens</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-token-containers/" class="nav-list-link ">Token Containers</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/access-controls/" class="nav-list-link ">Access Controls</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-the-proxy/" class="nav-list-link ">Proxy</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-reactors/" class="nav-list-link ">Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-search/" class="nav-list-link ">Search</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-mats/" class="nav-list-link ">Monthly Active Tokens</a> </div></div> <div class="side-bar-category" id="guides-category-name-and-icon"> <div class="icon-and-category-name"> <div class="guides-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Guides</div> </div> <a class="category-expander" id="guides-category-expander"></a> </div> <div class="side-bar-category-items" id="guides-category-items"> <div class="guide-subcategory-title">SECURE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-js/" class="nav-list-link ">Collect Customer Data (PII) with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-react/" class="nav-list-link ">Collect Customer Data (PII) with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements-react/" class="nav-list-link ">Collect Credit Cards with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/style-elements-for-my-brand/" class="nav-list-link ">Styling Elements</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/encrypt-us-banks-in-your-applications/" class="nav-list-link ">Encrypt U.S. Banks in your applications</a> </div><div class="guide-subcategory-title">USE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements/" class="nav-list-link ">Collect and Charge Credit Cards with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-us-bank-accounts-without-touching-them/" class="nav-list-link ">Use U.S. Bank Accounts without touching them</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/reveal-cards-with-react/" class="nav-list-link ">Reveal Card Data with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-reactors/" class="nav-list-link ">Use Token Data in Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-http-requests/" class="nav-list-link ">Use Token Data in HTTP Requests</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/run-your-own-code-in-a-reactor/" class="nav-list-link ">Run Your Own Code in a Reactor</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-proxies/" class="nav-list-link ">Collect and Use Credit Cards with Proxies</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/migrating-off-basis-theory/" class="nav-list-link ">Migrating off Basis Theory</a> </div><div class="guide-subcategory-title">MANAGE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/manage-applications-with-terraform/" class="nav-list-link ">Manage Applications with Terraform</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/" class="nav-list-link ">Manage Reactor Formulas with Terraform</a> </div></div> <div class="side-bar-category" id="reference-category-name-and-icon"> <div class="icon-and-category-name"> <div class="reference-icon category-icon-spacing"></div> <div class="side-bar-category-name">Reference</div> </div> <a class="category-expander" id="reference-category-expander"></a> </div> <div class="side-bar-category-items" id="reference-category-items"> <div class="nav-list-item"> <a href="https://docs.basistheory.com/api-reference/#introduction" class="nav-list-link">API Reference</a> <a href="https://status.basistheory.com" target="_blank" class="nav-list-link">System Status</a> <a href="https://docs.basistheory.com/elements/#introduction" class="nav-list-link">Elements</a> <a href="https://docs.basistheory.com/expressions/#introduction" class="nav-list-link">Expressions</a> </div> </div> <a class="side-bar-category" href="/labs"> <div class="icon-and-category-name"> <div class="labs-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Basis Theory Labs</div> </div> </a> </div> </nav> <footer class="site-footer"> </footer> </div> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Basis Theory Guides" aria-label="Search Basis Theory Guides" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main" id="top"> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="tokens">Tokens</h1> <p>Tokens are the core of the Basis Theory platform, built to enable companies to remove the need to store sensitive data while granting the flexibility they need to grow and operate their businesses. Tokens are a reference to the sensitive data that’s stored in our system. Our tokens enable you to pass raw data to our platform, and we will handle keeping it safe for you while returning a non-sensitive token identifier for you to reference from your systems.</p> <h3 class="no_toc text-delta" id="table-of-contents">Table of contents</h3> <ol id="markdown-toc"> <li><a href="#how-is-the-data-stored" id="markdown-toc-how-is-the-data-stored">How is the data stored?</a></li> <li><a href="#what-types-of-data-can-i-store" id="markdown-toc-what-types-of-data-can-i-store">What types of data can I store?</a></li> <li><a href="#what-operations-can-i-do-with-tokens" id="markdown-toc-what-operations-can-i-do-with-tokens">What operations can I do with tokens?</a></li> <li><a href="#what-are-the-capabilities-of-a-token" id="markdown-toc-what-are-the-capabilities-of-a-token">What are the capabilities of a token?</a> <ol> <li><a href="#aliasing" id="markdown-toc-aliasing">Aliasing</a></li> <li><a href="#fingerprinting" id="markdown-toc-fingerprinting">Fingerprinting</a></li> <li><a href="#masking" id="markdown-toc-masking">Masking</a></li> <li><a href="#containers" id="markdown-toc-containers">Containers</a></li> <li><a href="#time-to-live-ttl" id="markdown-toc-time-to-live-ttl">Time to Live (TTL)</a></li> <li><a href="#auditing" id="markdown-toc-auditing">Auditing</a></li> <li><a href="#search-indexes" id="markdown-toc-search-indexes">Search Indexes</a></li> <li><a href="#deduplication" id="markdown-toc-deduplication">Deduplication</a></li> <li><a href="#metadata" id="markdown-toc-metadata">Metadata</a></li> <li><a href="#associations" id="markdown-toc-associations">Associations</a></li> </ol> </li> <li><a href="#use-cases" id="markdown-toc-use-cases">Use Cases</a> <ol> <li><a href="#tokenize-credit-cards" id="markdown-toc-tokenize-credit-cards">Tokenize Credit Cards</a></li> <li><a href="#tokenize-bank-data" id="markdown-toc-tokenize-bank-data">Tokenize Bank Data</a></li> <li><a href="#tokenize-user-data" id="markdown-toc-tokenize-user-data">Tokenize User Data</a></li> <li><a href="#tokenize-credentials" id="markdown-toc-tokenize-credentials">Tokenize Credentials</a></li> </ol> </li> </ol> <h1 id="how-is-the-data-stored">How is the data stored?</h1> <p>When you tokenize data with Basis Theory, we will carefully encrypt the data with NIST and FIPS-compliant encryption algorithms. We ensure the data has been encrypted with a one-time use encryption key, which is then encrypted again and stored within our platform. This foundational encryption ensures your data is uniquely encrypted each time a new token is created. We will never mix our customers’ encryption keys. Your keys are only used for your data, period.</p> <h1 id="what-types-of-data-can-i-store">What types of data can I store?</h1> <p>You can store any primitive, complex, or unstructured data with our <code class="language-plaintext highlighter-rouge">token</code> type. This can enable you to store a user record, a simple social security number, or the contents of a file.</p> <p>There are <a href="https://docs.basistheory.com/#token-types">token types</a> available, such as <code class="language-plaintext highlighter-rouge">card</code> and <code class="language-plaintext highlighter-rouge">bank</code> types, to simplify your integration by offering pre-configured capabilities described in this page. If you are interested in more token types, please <a href="https://support.basistheory.com/hc">reach out</a>.</p> <h1 id="what-operations-can-i-do-with-tokens">What operations can I do with tokens?</h1> <p>You can manage the <a href="https://docs.basistheory.com/#tokens">full lifecycle</a> of all of your tokens. This includes creating, updating, reading, detokenizing, searching, and deleting tokens. Basis Theory offers the ability to also create tokens in bulk via the <a href="https://docs.basistheory.com/#tokenize">tokenize API endpoint</a>. This endpoint provides a way to create multiple tokens while preserving the format of your request.</p> <p>You can also make use of the token time to live (TTL) capability to expire your tokenized data.</p> <h1 id="what-are-the-capabilities-of-a-token">What are the capabilities of a token?</h1> <p>Our token specification enables you to transform your data to optimize for storage, readability, searching, and permissions. Basis Theory utilizes <a href="https://docs.basistheory.com/expressions/#language">Liquid template expressions</a> to enable full control over all parts of your tokenized data.</p> <h2 id="aliasing">Aliasing</h2> <p>In some scenarios, you need your token identifier to be in a specific format. This may be because you have to pass existing validation requirements, have an existing data format or database schema that is hard to change. Aliasing provides a simple way to customize the format of your token identifier to meet your needs.</p> <p>Let’s assume you have a social security number you are storing and you want to alias the token identifier to match the SSN format:</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data | alias_preserve_format }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-45-6789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"384-28-3948"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Another example may be that you want to format your email and retain the domain on the email while preserving the length of the email identifier so you can search for an instance of the email domain in your database without exposing the actual email addresses:</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data | split: '@' | first | alias_preserve_length }}@{{ data | split: '@' | last }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@basistheory.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"difkelk@basistheory.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="fingerprinting">Fingerprinting</h2> <p>Fingerprinting provides a way to correlate multiple tokens together that contain the same data without needing access to the underlying data. Creating multiple tokens with the same token type, data, and <a href="https://docs.basistheory.com/expressions/#fingerprints">fingerprint expression</a> will result in the same fingerprint. This can be useful for correlating purchases with the same credit card for multiple members of the same household or helping with master data management of multiple user accounts.</p> <p>By default, all tokens are fingerprinted with the contents of the <code class="language-plaintext highlighter-rouge">data</code> property using the default fingerprint expression of <code class="language-plaintext highlighter-rouge">{{ data | stringify }}</code>, however you can customize this fingerprint expression to meet your needs of what should uniquely identify a token.</p> <p>In the following example, we will create a token with user data, but we want to fingerprint on the email address:</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address }}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e7f0dde-5442-40ab-b244-5e02bcd5f86d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PH12E7vY7HfRTdGVUDeLzRcP8"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address }}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>In the above example, if another token is created with the <code class="language-plaintext highlighter-rouge">email_address</code> of <code class="language-plaintext highlighter-rouge">johndoe@basistheory.com</code>, the same fingerprint value of <code class="language-plaintext highlighter-rouge">PH12E7vY7HfRTdGVUDeLzRcP8</code> will be returned. If a token with a different <code class="language-plaintext highlighter-rouge">email_address</code> is created, a different fingerprint value will be returned.</p> <h2 id="masking">Masking</h2> <p>Masking is a way to securely and compliantly reveal parts of sensitive data. This is useful for revealing the last 4 digits of a credit card number to a customer during a checkout process or the last part of a social security number for a customer service representative to verify account ownership.</p> <p>Masks are computed based on the current value of the token data. <a href="https://docs.basistheory.com/#tokens-update-token">Updating the token</a> will change what masked data is returned.</p> <p>A scenario where masking is useful is in enabling customer service representatives to verify the account information for a customer using the last four of a social security number without having access to the full SSN. In this example, we will mask customer data so representatives can securely and compliantly view only part of the customer record:</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111-22-3333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.first_name }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.last_name | slice: 0 }}."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae164fcd-227d-40ce-b7ec-435faa6a8c73"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX-XX-3333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.first_name }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.last_name | slice: 0 }}."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="containers">Containers</h2> <p><a href="/concepts/what-are-token-containers">Containers</a> enable you to logically group Tokens and segment data within a Tenant, enabling you to organize Tokens based on your unique data governance strategy. By default, tokens are placed into containers based on <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.199.pdf#page=6">NIST defined</a> data classifications and impact levels.</p> <p>Containers allow you to grant scoped access to subsets of Tokens, limiting the amount of data accessible by your internal systems. <a href="/concepts/access-controls">Access Controls</a> can be used in conjunction with Containers to allow some systems access to highly confidential data while restricting access to only masked or redacted Tokens from other systems.</p> <p>For example, we may want to store a customer’s social security number and only provide access to the last 4 digits of the SSN to our customer service team.</p> <h2 id="time-to-live-ttl">Time to Live (TTL)</h2> <p>The time to live token capability provides the ability to expire your token data. This is useful in scenarios such as an expiring credit card, to share temporary credentials for system or user access, or meeting data retention policies.</p> <p>This example shows how to expire a token with card data:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242424242424242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2025</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-31T00:00:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>In this example, once the expires_at date has passed, the entire token will be purged and no longer available.</p> <h2 id="auditing">Auditing</h2> <p>All activities around tokens are audited, including <code class="language-plaintext highlighter-rouge">create</code>, <code class="language-plaintext highlighter-rouge">read</code>, <code class="language-plaintext highlighter-rouge">update</code>, <code class="language-plaintext highlighter-rouge">delete</code> and whenever a token is proxied or used in a Reactor. These audit logs are available <a href="https://docs.basistheory.com/#logs">via the API</a> or the web portal. Also, the creator and last modifier of a token is stored on all tokens. This can be used to lookup which application was used to create or update a token.</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c06d0789-0a38-40be-b7cc-c28a718f76f1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="search-indexes">Search Indexes</h2> <p>Once data is encrypted, it is difficult to search through the data for business processes without having full access. Basis Theory enables you to create search indexes on parts of the data within a token to allow searching without ever decrypting the underlying data or providing access to the sensitive data.</p> <p>In this example, we have a customer account we want to search over parts of the data:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111-22-3333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.first_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.last_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number | last4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>In the above example, we can now perform a search with <code class="language-plaintext highlighter-rouge">john</code>, <code class="language-plaintext highlighter-rouge">doe</code>, <code class="language-plaintext highlighter-rouge">111-22-3333</code>, <code class="language-plaintext highlighter-rouge">3333</code>, <code class="language-plaintext highlighter-rouge">johndoe@[basistheory.com](http://basistheory.com)</code> or <code class="language-plaintext highlighter-rouge">basistheory.com</code> and get back the token. To see all additional capabilities of search, see our <a href="https://docs.basistheory.com/#tokens-search-tokens">API documentation</a>.</p> <h2 id="deduplication">Deduplication</h2> <p>Duplicate data can be problematic for some systems. This can create data integrity problems in some systems where unique values are required. For example, you may have an accounts payable system and an e-commerce system both accepting credit cards for customers, and you want to ensure duplicate credit cards are not on file for that customer. Deduplication ensures tokens that have the same <code class="language-plaintext highlighter-rouge">fingerprint</code> return the same token when created. By default, every tokenization request creates a new token, but with deduplication <a href="https://docs.basistheory.com/#tenants-tenant-settings-object">enabled at the tenant</a> or on each <a href="https://docs.basistheory.com/#tokens-create-token">tokenization request</a>, tokens will be deduplicated based upon their fingerprint. This ensures that if multiple systems or the same system creates multiple tokens with the same data, they do not create duplicate tokens.</p> <p>To deduplicate a token during the tokenization request, we pass the <code class="language-plaintext highlighter-rouge">deduplicate_token</code> flag to the create token request. This will override the tenant-level deduplicate tokens setting:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-45-6789"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deduplicate_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>In this scenario, if we detect an existing token with the same <code class="language-plaintext highlighter-rouge">fingerprint</code>, the existing token is returned instead of creating a new token. When an existing token is matched, its data and metadata will only be returned within the response if the requester has <code class="language-plaintext highlighter-rouge">token:read</code> permission to the matched token. If the requesting Application does not have read permission, then the <code class="language-plaintext highlighter-rouge">data</code>, <code class="language-plaintext highlighter-rouge">metadata</code>, and other potentially sensitive attributes will be redacted to prevent leaking information to unauthorized parties. Only the following properties will be included in redacted responses: <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">type</code>, <code class="language-plaintext highlighter-rouge">tenant_id</code>, <code class="language-plaintext highlighter-rouge">fingerprint</code>, and <code class="language-plaintext highlighter-rouge">containers</code>.</p> <h2 id="metadata">Metadata</h2> <p>Being able to tag your tokens with custom attributes is important in many scenarios. For instance, you may want to add a system identifier to your tokens that allows you to reference a record in your own database. Another scenario is you need to tag records that fall into certain compliance requirements (e.g. GDPR). In these scenarios, putting this information in the token data may not be ideal as you want to be able to quickly reference the information or expose it to audiences who do not have access to view the token data. To solve for this, Basis Theory tokens allow you to set your own metadata on any token utilizing key-value pairs.</p> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123abc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a2f1defa-da99-44e7-b70b-4e6dcfa20ec2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123abc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="associations">Associations</h2> <p>Associations enable you to build relationships between your data. You can construct your relationships into trees or chains enabling you to discover and traverse your data efficiently.</p> <p>You can easily manage the relationship between a <code class="language-plaintext highlighter-rouge">parent</code> and <code class="language-plaintext highlighter-rouge">child</code> token via our <a href="https://docs.basistheory.com/#token-associations">token association API endpoints</a>.</p> <h1 id="use-cases">Use Cases</h1> <h2 id="tokenize-credit-cards">Tokenize Credit Cards</h2> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.number | alias_preserve_format }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242424242424242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2025</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.expiration_month }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.expiration_year }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.number | last4 }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/pci/high/"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3829018309324938"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX XXXX XXXX 4242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2025</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M25bjMqlH85LZE2F7SmZ1w"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.expiration_month }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.expiration_year }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.number | last4 }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/pci/high/"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><span class="base-alert info"> <span> In order to maintain PCI compliance while capturing credit cards, you will need to use Basis Theory’s <code class="language-plaintext highlighter-rouge">card</code> token type or store the CVC in a separate <code class="language-plaintext highlighter-rouge">token</code> while setting <code class="language-plaintext highlighter-rouge">expires_at</code> TTL property. </span> </span></p> <h2 id="tokenize-bank-data">Tokenize Bank Data</h2> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00123456789"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.routing_number }}{{ data.account_number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.routing_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.account_number | reveal_last: 4 }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.routing_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.account_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.account_number | last4 }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/bank/high/"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1457aad3-db95-4b34-8e14-b8ffffc305b4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXX6789"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sPbj5G5tKLIX42vrTGgk0Q"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.routing_number }}{{ data.account_number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.routing_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.account_number | reveal_last: 4 }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.routing_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.account_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.account_number | last4 }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/bank/high/"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="tokenize-user-data">Tokenize User Data</h2> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111-22-3333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.first_name }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.last_name | slice: 0 }}."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.first_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.last_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number | last4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/pii/high/"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be654efd-f748-4dcf-8640-96a1061e29fe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX-XX-3333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basistheory.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qRhehf8MqDlEIKPTpQhU6g"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.first_name }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.last_name | slice: 0 }}."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"social_security_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.social_security_number | reveal_last: 4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"search_indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"{{ data.first_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.last_name | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.social_security_number | last4 }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | downcase }}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"{{ data.email_address | split: '@' | last }}"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/pii/high/"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="tokenize-credentials">Tokenize Credentials</h2> <p><strong>Request</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8n%C%r+4DG*7BdPjZ6km9Nc#"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-15T00:00:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/general/high/"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4bc29335-38fd-4f71-8f36-c63ee8965be7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rs2U7r4cwN137j9XRO88zg"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fingerprint_expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ data | stringify }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-15T00:00:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/general/high/"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb124bba-f90d-45f0-9a59-5edca27b3b4a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-15T15:53:00+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
