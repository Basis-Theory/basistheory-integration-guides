<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Quickstart with Java - Basis Theory Guides</title> <meta name="Description" content="Get Started with Basis Theory with Java"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Quickstart with Java | Basis Theory Guides</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Quickstart with Java" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Get Started with Basis Theory with Java" /> <meta property="og:description" content="Get Started with Basis Theory with Java" /> <link rel="canonical" href="https://developers.basistheory.com/getting-started/quickstart-with-java/" /> <meta property="og:url" content="https://developers.basistheory.com/getting-started/quickstart-with-java/" /> <meta property="og:site_name" content="Basis Theory Guides" /> <meta property="og:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="og:image:height" content="630" /> <meta property="og:image:width" content="1200" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="twitter:title" content="Quickstart with Java" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Get Started with Basis Theory with Java","headline":"Quickstart with Java","image":{"width":1200,"height":630,"url":"https://cdn.basistheory.com/images/seo/guides-opengraph.png","@type":"imageObject"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://developers.basistheory.com/assets/images/logos-guides.svg"}},"url":"https://developers.basistheory.com/getting-started/quickstart-with-java/"}</script> <!-- End Jekyll SEO tag --> </head> <script defer data-api="https://analytics.basistheory.com/api/event" data-domain="developers.basistheory.com" src="https://cdn.basistheory.com/javascript/analytics.js"></script> <!-- Google Tag Manager --> <script>(function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-M56229L');</script> <!-- End Google Tag Manager --> <!-- Iubenda --> <script type="text/javascript"> var _iub = _iub || []; _iub.csConfiguration = { "ccpaAcknowledgeOnLoad": true, "consentOnContinuedBrowsing": false, "countryDetection": true, "gdprAppliesGlobally": false, "lang": "en", "siteId": 2378844, "cookiePolicyId": 13137791, "callback": { "onPreferenceExpressedOrNotNeeded": function (preference) { dataLayer.push({ iubenda_ccpa_opted_out: _iub.cs.api.isCcpaOptedOut() }); if (!preference) { dataLayer.push({ event: "iubenda_preference_not_needed" }); } else { if (preference.consent === true) { dataLayer.push({ event: "iubenda_consent_given" }); } else if (preference.consent === false) { dataLayer.push({ event: "iubenda_consent_rejected" }); } else if (preference.purposes) { for (var purposeId in preference.purposes) { if (preference.purposes[purposeId]) { dataLayer.push({ event: "iubenda_consent_given_purpose_" + purposeId }); } } } } } }, "banner": { "acceptButtonCaptionColor": "#070a1b", "acceptButtonColor": "#1ad1db", "acceptButtonDisplay": true, "backgroundColor": "#141729", "closeButtonDisplay": false, "customizeButtonCaptionColor": "#d2d2d2", "customizeButtonColor": "#1a1e32", "customizeButtonDisplay": true, "position": "bottom", "rejectButtonCaptionColor": "white", "rejectButtonColor": "#1e2337", "rejectButtonDisplay": true, "textColor": "#e5e6ec", "acceptButtonCaption": "Accept All", "content": "<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"true\" />\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap\" rel=\"stylesheet\" />\n<style>\ndiv#iubenda-cs-banner {\n font-size: 16px !important;\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-container {\n border-top: 1px solid #2f3244 !important;\n}\n\ndiv#iubenda-cs-banner .iubenda-banner-content {\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n font-weight: 400 !important;\n color: #8389a6 !important;\n font-size: 14px !important; \n}\n\ndiv#iubenda-cs-title {\n color: #E5E6EC !important;\n font-size: 16px !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-opt-group button {\n padding: 12px 32px !important;\n font-weight: 600 !important;\n border-radius: 4px !important;\n}\n\nbutton.iubenda-cs-accept-btn {\n box-shadow: 1px 1px 3px 0 rgb(49 255 255 / 30%), inset 0 0 0 1px hsl(0deg 0% 100% / 40%);\n margin-left: 16px !important;\n}\n\n@media (min-width: 992px) {\n #iubenda-cs-banner.iubenda-cs-default div.iubenda-cs-rationale {\n max-width: 1200px !important;\n width: 100% !important;\n }\n}\n</style><div id=\"iubenda-cs-title\">&#x1f36a; &nbsp;Cookie Notice</div><div id=\"iubenda-cs-paragraph\">\n\nBy clicking \"Accept All\", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. View our <a href=\"https://basistheory.com/privacy-policy\" target=\"_blank\">Cookie Policy</a> for more information.\n</div>", "rejectButtonCaption": "" } }; </script> <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script> <!-- End Iubenda --> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <header class="site-header"> <a class="site-header-logo" href="https://developers.basistheory.com/"> </a> <div class="documentation-links"> <a class="documentation-link active" href="/getting-started">Get Started</a> <a class="documentation-link " href="/">Documentation</a> <a class="documentation-link" href="https://docs.basistheory.com/api-reference/#introduction">API Reference</a> <a class="documentation-link" href="https://docs.basistheory.com/elements/#introduction">Elements</a> </div> <div class="portal-links"> <a class="portal-sign-in" href="https://portal.basistheory.com">Sign In</a> <a class="portal-create-account" href="https://portal.basistheory.com/register">Create Account</a> </div> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </header> <div class="side-bar"> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-list"><a class="side-bar-category home-link" href="/"> <div class="icon-and-category-name"> <div class="home-icon category-icon-spacing "></div> <div class="side-bar-category-name home-link ">Home</div> </div> </a> <div class="side-bar-category" id="getting-started-category-name-and-icon"> <div class="icon-and-category-name"> <div class="getting-started-icon category-icon-spacing active"></div> <div class="side-bar-category-name active">Getting Started</div> </div> <a class="category-expander" id="getting-started-category-expander"></a> </div> <div class="side-bar-category-items" id="getting-started-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-curl/" class="nav-list-link ">Quickstart with cURL</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-nodejs/" class="nav-list-link ">Quickstart with Node.js</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-python/" class="nav-list-link ">Quickstart with Python</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-ruby/" class="nav-list-link ">Quickstart with Ruby</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-dotnet/" class="nav-list-link ">Quickstart with .NET</a> </div><div class="nav-list-item active"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-java/" class="nav-list-link active">Quickstart with Java</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-go/" class="nav-list-link ">Quickstart with Go</a> </div></div> <div class="side-bar-category" id="blueprints-category-name-and-icon"> <div class="icon-and-category-name"> <div class="blueprints-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Blueprints</div> </div> <a class="category-expander" id="blueprints-category-expander"></a> </div> <div class="side-bar-category-items" id="blueprints-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/blueprints/pci/" class="nav-list-link ">PCI Blueprint</a> </div></div> <div class="side-bar-category" id="concepts-category-name-and-icon"> <div class="icon-and-category-name"> <div class="concepts-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Concepts</div> </div> <a class="category-expander" id="concepts-category-expander"></a> </div> <div class="side-bar-category-items" id="concepts-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-tokens/" class="nav-list-link ">Tokens</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-token-containers/" class="nav-list-link ">Token Containers</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/access-controls/" class="nav-list-link ">Access Controls</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-the-proxy/" class="nav-list-link ">Proxy</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-reactors/" class="nav-list-link ">Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-search/" class="nav-list-link ">Search</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-mats/" class="nav-list-link ">Monthly Active Tokens</a> </div></div> <div class="side-bar-category" id="guides-category-name-and-icon"> <div class="icon-and-category-name"> <div class="guides-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Guides</div> </div> <a class="category-expander" id="guides-category-expander"></a> </div> <div class="side-bar-category-items" id="guides-category-items"> <div class="guide-subcategory-title">SECURE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-js/" class="nav-list-link ">Collect Customer Data (PII) with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-react/" class="nav-list-link ">Collect Customer Data (PII) with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements-react/" class="nav-list-link ">Collect Credit Cards with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/style-elements-for-my-brand/" class="nav-list-link ">Styling Elements</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/encrypt-us-banks-in-your-applications/" class="nav-list-link ">Encrypt U.S. Banks in your applications</a> </div><div class="guide-subcategory-title">USE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements/" class="nav-list-link ">Collect and Charge Credit Cards with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-us-bank-accounts-without-touching-them/" class="nav-list-link ">Use U.S. Bank Accounts without touching them</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/reveal-cards-with-react/" class="nav-list-link ">Reveal Card Data with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-reactors/" class="nav-list-link ">Use Token Data in Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-http-requests/" class="nav-list-link ">Use Token Data in HTTP Requests</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/run-your-own-code-in-a-reactor/" class="nav-list-link ">Run Your Own Code in a Reactor</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-proxies/" class="nav-list-link ">Collect and Use Credit Cards with Proxies</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/migrating-off-basis-theory/" class="nav-list-link ">Migrating off Basis Theory</a> </div><div class="guide-subcategory-title">MANAGE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/manage-applications-with-terraform/" class="nav-list-link ">Manage Applications with Terraform</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/" class="nav-list-link ">Manage Reactor Formulas with Terraform</a> </div></div> <div class="side-bar-category" id="reference-category-name-and-icon"> <div class="icon-and-category-name"> <div class="reference-icon category-icon-spacing"></div> <div class="side-bar-category-name">Reference</div> </div> <a class="category-expander" id="reference-category-expander"></a> </div> <div class="side-bar-category-items" id="reference-category-items"> <div class="nav-list-item"> <a href="https://docs.basistheory.com/api-reference/#introduction" class="nav-list-link">API Reference</a> <a href="https://status.basistheory.com" target="_blank" class="nav-list-link">System Status</a> <a href="https://docs.basistheory.com/elements/#introduction" class="nav-list-link">Elements</a> <a href="https://docs.basistheory.com/expressions/#introduction" class="nav-list-link">Expressions</a> </div> </div> <a class="side-bar-category" href="/labs"> <div class="icon-and-category-name"> <div class="labs-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Basis Theory Labs</div> </div> </a> </div> </nav> <footer class="site-footer"> </footer> </div> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Basis Theory Guides" aria-label="Search Basis Theory Guides" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main" id="top"> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="quickstart-with-java">Quickstart with Java</h1> <p>In this tutorial, you will create a new Java application and use Basis Theory’s platform to secure a string of data and then read that data back out. Once you’ve completed this tutorial, you’ll have a foundational understanding of how to secure your data with Basis Theory allowing you to no longer worry about the underlying storage or encryption of the data.</p> <p>If you are already familiar with Basis Theory and our platform in general, our guide on <a href="https://developers.basistheory.com/guides/use-token-data-in-http-requests/">How to send Token data via HTTP</a> or <a href="https://developers.basistheory.com/guides/collect-cards-with-elements/">Collecting payments with Elements</a> may be a better place to start.</p> <h2 id="step-1-get-your-java-environment-ready">Step 1: Get your Java environment ready</h2> <h3 id="step-11-ensure-you-have-java-installed">Step 1.1: Ensure you have Java installed</h3> <p>We will use vanilla Java, without external dependencies. Completing this tutorial will require you to have the Java SE 17 or later installed on your local system. The latest version of Java can be <a href="https://www.oracle.com/java/technologies/downloads/">downloaded here</a>; OpenJDK can be <a href="https://jdk.java.net/">downloaded here</a>.</p> <h3 id="step-12-create-a-simple-java-class-file">Step 1.2: Create a simple Java class file</h3> <p>To start, you will need a new Java class file. Create a new file named <code class="language-plaintext highlighter-rouge">BasisTheoryQuickstart.java</code> or use the following command to create the application:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Mac or Linux
<span class="nb">touch </span>BasisTheoryQuickstart.java

// Windows
<span class="nb">type </span>nul <span class="o">&gt;</span> BasisTheoryQuickstart.java
</code></pre></div></div> <h2 id="step-2-import-needed-dependencies">Step 2: Import needed dependencies</h2> <p>The simplest form of securing data with Basis Theory is through our API with a JSON body. In Java 11 or later, you can start with just an HttpClient. For this example we use the <code class="language-plaintext highlighter-rouge">java.net.http.HttpClient</code> and related packages to make an API call. At the top of your file, you’ll import the following dependencies:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpRequest.BodyPublishers</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpResponse.BodyHandlers</span><span class="o">;</span>
</code></pre></div></div> <h2 id="step-3-create-a-new-application-in-your-basis-theory-account">Step 3: Create a new Application in your Basis Theory Account</h2> <p>If you don’t already have a Basis Theory account and your first Tenant, create one <a href="https://portal.basistheory.com/register">here</a>.</p> <p>Within your Basis Theory account, create a new Application. To create a new Application, head to our portal <a href="https://portal.basistheory.com/applications/create">here</a> — this Application’s API Key will enable you to authenticate with the Basis Theory platform and create Tokens within your Tenant.</p> <h3 id="31-select-an-application-template">3.1 Select an Application Template</h3> <p>Select the <a href="https://portal.basistheory.com/applications/create?application_template_id=6f486ec1-ddf4-4040-b7f1-3ddca4209495">Full Access</a> Application Template, which will grant your Application access to create Tokens and read the plaintext Token values.</p> <h3 id="32-enter-an-application-name">3.2 Enter an Application Name</h3> <p>This name allows you to identify this application in the future — for this tutorial enter “cURL Quickstart”.</p> <h3 id="33-copy-your-api-key">3.3 Copy your API key</h3> <p>Keep this API key safe for later. We will use it in the next step to create your first Token.</p> <h2 id="step-4-create-a-token-to-secure-a-string">Step 4: Create a Token to secure a string</h2> <p>To create a token, we need to send an HTTP POST request to the <a href="https://docs.basistheory.com/api-reference/#tokens-create-token"><code class="language-plaintext highlighter-rouge">/tokens</code></a> endpoint. In this guide, we will be using the generic <code class="language-plaintext highlighter-rouge">token</code> Token Type (you can read more about Tokens <a href="https://developers.basistheory.com/concepts/what-are-tokens/">here</a>).</p> <p>Update the <code class="language-plaintext highlighter-rouge">BT-API-KEY</code> header with the API Key you created in Step 3!</p> <p>(Note: some boilerplate code is missing in this snippet. The complete class is at the bottom of this guide!)</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Initialize the HttpClient</span>
<span class="kt">var</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>

<span class="c1">// JSON message formatted as a string</span>
<span class="kt">var</span> <span class="n">message</span> <span class="o">=</span> <span class="s">"{\"type\": \"token\", \"data\": \"foo\"}"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">createRequest</span> <span class="o">=</span> <span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.basistheory.com/tokens"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">message</span><span class="o">))</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="c1">// Enter your API key here!</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"BT-API-KEY"</span><span class="o">,</span> <span class="s">"&lt;! ENTER YOUR API KEY HERE !&gt;"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Create a new token</span>
<span class="kt">var</span> <span class="n">createResponse</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">createRequest</span><span class="o">,</span> <span class="nc">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="n">createResponse</span><span class="o">.</span><span class="na">body</span><span class="o">();</span>

<span class="c1">// Token response</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Token created:"</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">token</span><span class="o">);</span>
</code></pre></div></div> <h2 id="step-5-run-your-application-to-create-a-new-token">Step 5: Run your application to create a new Token</h2> <p>To create a token, run the following commands in the directory you created your <code class="language-plaintext highlighter-rouge">BasisTheoryQuickstart.java</code> file:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>javac BasisTheoryQuickstart.java
java BasisTheoryQuickstart
</code></pre></div></div> <p>You will see a response similar to:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> Token created:
<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"62a71684-f148-424c-88c6-bdb44031357a"</span>,<span class="s2">"tenant_id"</span>:<span class="s2">"570b53fb-1ecf-4aaf-9cb2-145e13b566a9"</span>,<span class="s2">"type"</span>:<span class="s2">"token"</span>,<span class="s2">"containers"</span>:[<span class="s2">"/general/high/"</span><span class="o">]</span>,<span class="s2">"created_by"</span>:<span class="s2">"7281f0ef-eafc-455c-bdae-ce6c99ff8268"</span>,<span class="s2">"created_at"</span>:<span class="s2">"2022-02-17T21:49:29.2596915+00:00"</span><span class="o">}</span>
</code></pre></div></div> <p>🎉🎉🎉 You’ve created a token 🎉🎉🎉</p> <h2 id="step-6-read-back-the-raw-value-from-basis-theory">Step 6: Read back the raw value from Basis Theory</h2> <p>With our value safely stored in a Token, let’s read it back. To do this, we will make an HTTP GET request to the <a href="https://docs.basistheory.com/api-reference/#tokens-get-a-token">Basis Theory Get a Token API</a> endpoint and print the response’s raw string value.</p> <p>We are using the <code class="language-plaintext highlighter-rouge">id</code> property from the previous Token we created to inject the <code class="language-plaintext highlighter-rouge">tokenId</code> into the Get a token by ID request. Because we are using vanilla Java, we will simply split the response and grab the <code class="language-plaintext highlighter-rouge">id</code> from the resulting array.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Parse token id from response</span>
<span class="kt">var</span> <span class="n">tokenArray</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\""</span><span class="o">);</span>
<span class="kt">var</span> <span class="n">tokenId</span> <span class="o">=</span> <span class="n">tokenArray</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>

<span class="c1">// Get token</span>
<span class="kt">var</span> <span class="n">getRequest</span> <span class="o">=</span> <span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"https://api.basistheory.com/tokens/%s"</span><span class="o">,</span> <span class="n">tokenId</span><span class="o">)))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"BT-API-KEY"</span><span class="o">,</span> <span class="s">"key_E6gVJEn1DRT5m6YHs55Dsa"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="kt">var</span> <span class="n">getResponse</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">getRequest</span><span class="o">,</span> <span class="nc">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Read a token:"</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">getResponse</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div></div> <h2 id="step-7-run-the-application">Step 7: Run the application</h2> <p>Test the entire tutorial out by running the application:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>javac BasisTheoryQuickstart.java
java BasisTheoryQuickstart
</code></pre></div></div> <p>🎉🎉🎉 You’ve successfully created a Token for your data and read it back 🎉🎉🎉</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> Create a token:
<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"62a71684-f148-424c-88c6-bdb44031357a"</span>,<span class="s2">"tenant_id"</span>:<span class="s2">"570b53fb-1ecf-4aaf-9cb2-145e13b566a9"</span>,<span class="s2">"type"</span>:<span class="s2">"token"</span>,<span class="s2">"containers"</span>:[<span class="s2">"/general/high/"</span><span class="o">]</span>,<span class="s2">"created_by"</span>:<span class="s2">"7281f0ef-eafc-455c-bdae-ce6c99ff8268"</span>,<span class="s2">"created_at"</span>:<span class="s2">"2022-02-17T21:49:29.2596915+00:00"</span><span class="o">}</span>
Read a token:
<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"62a71684-f148-424c-88c6-bdb44031357a"</span>,<span class="s2">"type"</span>:<span class="s2">"token"</span>,<span class="s2">"tenant_id"</span>:<span class="s2">"570b53fb-1ecf-4aaf-9cb2-145e13b566a9"</span>,<span class="s2">"created_by"</span>:<span class="s2">"7281f0ef-eafc-455c-bdae-ce6c99ff8268"</span>,<span class="s2">"created_at"</span>:<span class="s2">"2022-02-17T21:49:29.2596915+00:00"</span>,<span class="s2">"containers"</span>:[<span class="s2">"/general/high/"</span><span class="o">]}</span>
</code></pre></div></div> <h2 id="putting-it-all-together">Putting it all together</h2> <p>This completes the basic ability to secure data with Tokens and retrieve the raw data back from Basis Theory when you need to use the data in your systems. This flow allows you to secure your data at rest, removes the liability of having the data stored in your databases, and frees you from having to worry about complex encryption logic.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpRequest.BodyPublishers</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpResponse.BodyHandlers</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BTQuickstart</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Initialize the HttpClient</span>
            <span class="kt">var</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>

            <span class="c1">// JSON message formatted as a string</span>
            <span class="kt">var</span> <span class="n">message</span> <span class="o">=</span> <span class="s">"{\"type\": \"token\", \"data\": \"foo\"}"</span><span class="o">;</span>

            <span class="kt">var</span> <span class="n">createRequest</span> <span class="o">=</span> <span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.basistheory.com/tokens"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">message</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="c1">// Enter your API key here!</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"BT-API-KEY"</span><span class="o">,</span> <span class="s">"key_E6gVJEn1DRT5m6YHs55Dsa"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

            <span class="c1">// Create a new token</span>
            <span class="kt">var</span> <span class="n">createResponse</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">createRequest</span><span class="o">,</span> <span class="nc">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>
            <span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="n">createResponse</span><span class="o">.</span><span class="na">body</span><span class="o">();</span>

            <span class="c1">// Token response</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Create a token:"</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">token</span><span class="o">);</span>

            <span class="c1">// Parse token id from response</span>
            <span class="kt">var</span> <span class="n">tokenArray</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\""</span><span class="o">);</span>
            <span class="kt">var</span> <span class="n">tokenId</span> <span class="o">=</span> <span class="n">tokenArray</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>

            <span class="c1">// Get token</span>
            <span class="kt">var</span> <span class="n">getRequest</span> <span class="o">=</span> <span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"https://api.basistheory.com/tokens/%s"</span><span class="o">,</span> <span class="n">tokenId</span><span class="o">)))</span>
                <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"BT-API-KEY"</span><span class="o">,</span> <span class="s">"key_E6gVJEn1DRT5m6YHs55Dsa"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

            <span class="kt">var</span> <span class="n">getResponse</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">getRequest</span><span class="o">,</span> <span class="nc">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Read a token:"</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">getResponse</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="what-can-i-do-next">What can I do next?</h2> <p>Now that you understand the basics, you are ready to learn more about how you can better secure sensitive data without sacrificing data usability using the Basis Theory platform.</p> <p>Check out the ability to use your <a href="https://developers.basistheory.com/guides/use-token-data-in-http-requests/">Token data with HTTP request</a> without the data ever touching your systems — or if you’re looking to secure Credit Card data, check out our guide on <a href="https://developers.basistheory.com/guides/collect-cards-with-elements/">How To Charge a customer with Stripe</a> while retaining access to the credit card number for future transactions.</p> <p>Was this useful, or looking for something different? Reach out to us on our <a href="https://community.basistheory.com">Community</a>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
