<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Manage Reactor Formulas with Terraform - Basis Theory Guides</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Manage Reactor Formulas with Terraform | Basis Theory Guides</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Manage Reactor Formulas with Terraform" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Explore step-by-step guides to use our APIs and SDKs." /> <meta property="og:description" content="Explore step-by-step guides to use our APIs and SDKs." /> <link rel="canonical" href="https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/" /> <meta property="og:url" content="https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/" /> <meta property="og:site_name" content="Basis Theory Guides" /> <meta property="og:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="og:image:height" content="630" /> <meta property="og:image:width" content="1200" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://cdn.basistheory.com/images/seo/guides-opengraph.png" /> <meta property="twitter:title" content="Manage Reactor Formulas with Terraform" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Explore step-by-step guides to use our APIs and SDKs.","headline":"Manage Reactor Formulas with Terraform","image":{"width":1200,"height":630,"url":"https://cdn.basistheory.com/images/seo/guides-opengraph.png","@type":"imageObject"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://developers.basistheory.com/assets/images/logos-guides.svg"}},"url":"https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/"}</script> <!-- End Jekyll SEO tag --> </head> <script defer data-api="https://analytics.basistheory.com/api/event" data-domain="developers.basistheory.com" src="https://cdn.basistheory.com/javascript/analytics.js"></script> <!-- Google Tag Manager --> <script>(function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-M56229L');</script> <!-- End Google Tag Manager --> <!-- Iubenda --> <script type="text/javascript"> var _iub = _iub || []; _iub.csConfiguration = { "ccpaAcknowledgeOnLoad": true, "consentOnContinuedBrowsing": false, "countryDetection": true, "gdprAppliesGlobally": false, "lang": "en", "siteId": 2378844, "cookiePolicyId": 13137791, "callback": { "onPreferenceExpressedOrNotNeeded": function (preference) { dataLayer.push({ iubenda_ccpa_opted_out: _iub.cs.api.isCcpaOptedOut() }); if (!preference) { dataLayer.push({ event: "iubenda_preference_not_needed" }); } else { if (preference.consent === true) { dataLayer.push({ event: "iubenda_consent_given" }); } else if (preference.consent === false) { dataLayer.push({ event: "iubenda_consent_rejected" }); } else if (preference.purposes) { for (var purposeId in preference.purposes) { if (preference.purposes[purposeId]) { dataLayer.push({ event: "iubenda_consent_given_purpose_" + purposeId }); } } } } } }, "banner": { "acceptButtonCaptionColor": "#070a1b", "acceptButtonColor": "#1ad1db", "acceptButtonDisplay": true, "backgroundColor": "#141729", "closeButtonDisplay": false, "customizeButtonCaptionColor": "#d2d2d2", "customizeButtonColor": "#1a1e32", "customizeButtonDisplay": true, "position": "bottom", "rejectButtonCaptionColor": "white", "rejectButtonColor": "#1e2337", "rejectButtonDisplay": true, "textColor": "#e5e6ec", "acceptButtonCaption": "Accept All", "content": "<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"true\" />\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap\" rel=\"stylesheet\" />\n<style>\ndiv#iubenda-cs-banner {\n font-size: 16px !important;\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-container {\n border-top: 1px solid #2f3244 !important;\n}\n\ndiv#iubenda-cs-banner .iubenda-banner-content {\n font-family: 'Inter', sans-serif, -apple-system, sans-serif !important;\n font-weight: 400 !important;\n color: #8389a6 !important;\n font-size: 14px !important; \n}\n\ndiv#iubenda-cs-title {\n color: #E5E6EC !important;\n font-size: 16px !important;\n}\n\ndiv#iubenda-cs-banner div.iubenda-cs-opt-group button {\n padding: 12px 32px !important;\n font-weight: 600 !important;\n border-radius: 4px !important;\n}\n\nbutton.iubenda-cs-accept-btn {\n box-shadow: 1px 1px 3px 0 rgb(49 255 255 / 30%), inset 0 0 0 1px hsl(0deg 0% 100% / 40%);\n margin-left: 16px !important;\n}\n\n@media (min-width: 992px) {\n #iubenda-cs-banner.iubenda-cs-default div.iubenda-cs-rationale {\n max-width: 1200px !important;\n width: 100% !important;\n }\n}\n</style><div id=\"iubenda-cs-title\">&#x1f36a; &nbsp;Cookie Notice</div><div id=\"iubenda-cs-paragraph\">\n\nBy clicking \"Accept All\", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. View our <a href=\"https://basistheory.com/privacy-policy\" target=\"_blank\">Cookie Policy</a> for more information.\n</div>", "rejectButtonCaption": "" } }; </script> <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script> <!-- End Iubenda --> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <header class="site-header"> <a class="site-header-logo" href="https://developers.basistheory.com/"> </a> <div class="documentation-links"> <a class="documentation-link " href="/getting-started">Get Started</a> <a class="documentation-link active" href="/">Documentation</a> <a class="documentation-link" href="https://docs.basistheory.com/api-reference/#introduction">API Reference</a> <a class="documentation-link" href="https://docs.basistheory.com/elements/#introduction">Elements</a> </div> <div class="portal-links"> <a class="portal-sign-in" href="https://portal.basistheory.com">Sign In</a> <a class="portal-create-account" href="https://portal.basistheory.com/register">Create Account</a> </div> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </header> <div class="side-bar"> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-list"><a class="side-bar-category home-link" href="/"> <div class="icon-and-category-name"> <div class="home-icon category-icon-spacing "></div> <div class="side-bar-category-name home-link ">Home</div> </div> </a> <div class="side-bar-category" id="getting-started-category-name-and-icon"> <div class="icon-and-category-name"> <div class="getting-started-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Getting Started</div> </div> <a class="category-expander" id="getting-started-category-expander"></a> </div> <div class="side-bar-category-items" id="getting-started-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-curl/" class="nav-list-link ">Quickstart with cURL</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-nodejs/" class="nav-list-link ">Quickstart with Node.js</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-python/" class="nav-list-link ">Quickstart with Python</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-ruby/" class="nav-list-link ">Quickstart with Ruby</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-dotnet/" class="nav-list-link ">Quickstart with .NET</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-java/" class="nav-list-link ">Quickstart with Java</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/getting-started/quickstart-with-go/" class="nav-list-link ">Quickstart with Go</a> </div></div> <div class="side-bar-category" id="blueprints-category-name-and-icon"> <div class="icon-and-category-name"> <div class="blueprints-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Blueprints</div> </div> <a class="category-expander" id="blueprints-category-expander"></a> </div> <div class="side-bar-category-items" id="blueprints-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/blueprints/pci/" class="nav-list-link ">PCI Blueprint</a> </div></div> <div class="side-bar-category" id="concepts-category-name-and-icon"> <div class="icon-and-category-name"> <div class="concepts-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Concepts</div> </div> <a class="category-expander" id="concepts-category-expander"></a> </div> <div class="side-bar-category-items" id="concepts-category-items"><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-tokens/" class="nav-list-link ">Tokens</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-token-containers/" class="nav-list-link ">Token Containers</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/access-controls/" class="nav-list-link ">Access Controls</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-the-proxy/" class="nav-list-link ">Proxy</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-reactors/" class="nav-list-link ">Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-is-search/" class="nav-list-link ">Search</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/concepts/what-are-mats/" class="nav-list-link ">Monthly Active Tokens</a> </div></div> <div class="side-bar-category" id="guides-category-name-and-icon"> <div class="icon-and-category-name"> <div class="guides-icon category-icon-spacing active"></div> <div class="side-bar-category-name active">Guides</div> </div> <a class="category-expander" id="guides-category-expander"></a> </div> <div class="side-bar-category-items" id="guides-category-items"> <div class="guide-subcategory-title">SECURE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-js/" class="nav-list-link ">Collect Customer Data (PII) with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-pii-react/" class="nav-list-link ">Collect Customer Data (PII) with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements-react/" class="nav-list-link ">Collect Credit Cards with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/style-elements-for-my-brand/" class="nav-list-link ">Styling Elements</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/encrypt-us-banks-in-your-applications/" class="nav-list-link ">Encrypt U.S. Banks in your applications</a> </div><div class="guide-subcategory-title">USE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-elements/" class="nav-list-link ">Collect and Charge Credit Cards with JavaScript</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-us-bank-accounts-without-touching-them/" class="nav-list-link ">Use U.S. Bank Accounts without touching them</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/reveal-cards-with-react/" class="nav-list-link ">Reveal Card Data with React</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-reactors/" class="nav-list-link ">Use Token Data in Reactors</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/use-token-data-in-http-requests/" class="nav-list-link ">Use Token Data in HTTP Requests</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/run-your-own-code-in-a-reactor/" class="nav-list-link ">Run Your Own Code in a Reactor</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/collect-cards-with-proxies/" class="nav-list-link ">Collect and Use Credit Cards with Proxies</a> </div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/migrating-off-basis-theory/" class="nav-list-link ">Migrating off Basis Theory</a> </div><div class="guide-subcategory-title">MANAGE YOUR DATA</div><div class="nav-list-item"> <a href="https://developers.basistheory.com/guides/manage-applications-with-terraform/" class="nav-list-link ">Manage Applications with Terraform</a> </div><div class="nav-list-item active"> <a href="https://developers.basistheory.com/guides/manage-reactor-formulas-with-terraform/" class="nav-list-link active">Manage Reactor Formulas with Terraform</a> </div></div> <div class="side-bar-category" id="reference-category-name-and-icon"> <div class="icon-and-category-name"> <div class="reference-icon category-icon-spacing"></div> <div class="side-bar-category-name">Reference</div> </div> <a class="category-expander" id="reference-category-expander"></a> </div> <div class="side-bar-category-items" id="reference-category-items"> <div class="nav-list-item"> <a href="https://docs.basistheory.com/api-reference/#introduction" class="nav-list-link">API Reference</a> <a href="https://status.basistheory.com" target="_blank" class="nav-list-link">System Status</a> <a href="https://docs.basistheory.com/elements/#introduction" class="nav-list-link">Elements</a> <a href="https://docs.basistheory.com/expressions/#introduction" class="nav-list-link">Expressions</a> </div> </div> <a class="side-bar-category" href="/labs"> <div class="icon-and-category-name"> <div class="labs-icon category-icon-spacing "></div> <div class="side-bar-category-name ">Basis Theory Labs</div> </div> </a> </div> </nav> <footer class="site-footer"> </footer> </div> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Basis Theory Guides" aria-label="Search Basis Theory Guides" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main" id="top"> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="manage-reactor-formulas-with-terraform">Manage Reactor Formulas with Terraform</h1> <p>Terraform is a popular and powerful tool that enables you to version your infrastructure as code. In this guide, weâ€™ll walk you through setting up Terraform to manage your resources locally within Basis Theory. By the end of this guide, you will have created a Reactor Formula under your Tenant using Terraform.</p> <h3 class="no_toc text-delta" id="table-of-contents">Table of contents</h3> <ol id="markdown-toc"> <li><a href="#install-terraform" id="markdown-toc-install-terraform">Install Terraform</a></li> <li><a href="#set-up-terraform-configuration" id="markdown-toc-set-up-terraform-configuration">Set up Terraform configuration</a> <ol> <li><a href="#set-up-the-basistheory-provider" id="markdown-toc-set-up-the-basistheory-provider">Set up the basistheory provider</a></li> <li><a href="#set-up-the-basistheory_reactor_formula-resource" id="markdown-toc-set-up-the-basistheory_reactor_formula-resource">Set up the basistheory_reactor_formula resource</a></li> <li><a href="#set-up-a-basistheory_reactor-resource-from-the-reactor-formula" id="markdown-toc-set-up-a-basistheory_reactor-resource-from-the-reactor-formula">Set up a basistheory_reactor resource from the Reactor Formula</a></li> </ol> </li> <li><a href="#executing-terraform" id="markdown-toc-executing-terraform">Executing Terraform</a></li> <li><a href="#using-terraform-to-manage-other-basis-theory-resources" id="markdown-toc-using-terraform-to-manage-other-basis-theory-resources">Using Terraform to manage other Basis Theory resources</a></li> </ol> <p><span class="base-alert warning"> <span> To start, youâ€™ll need a new <code>Management</code> <a href="https://docs.basistheory.com/api-reference/#applications">Application</a> with <code>reactor:create</code>, <code>reactor:read</code>, <code>reactor:update</code>, and <code>reactor:delete</code> permissions. <a href="https://portal.basistheory.com/applications/create?name=Terraform+Application&amp;type=management&amp;permissions=reactor%3Acreate&amp;permissions=reactor%3Aread&amp;permissions=reactor%3Aupdate&amp;permissions=reactor%3Adelete" target="_blank">Click here to create one.</a> </span> </span></p> <h2 id="install-terraform">Install Terraform</h2> <p>To achieve the following steps, you must have the Terraform CLI installed locally or wherever youâ€™re planning on running your configuration. The best guide for installing Terraform can be found on their own website <a href="https://learn.hashicorp.com/tutorials/terraform/install-cli">here</a>.</p> <h2 id="set-up-terraform-configuration">Set up Terraform configuration</h2> <p>Letâ€™s set up the Terraform configuration youâ€™ll need for creating a Reactor Formula.</p> <h3 id="set-up-the-basistheory-provider">Set up the basistheory provider</h3> <p>Firstly, youâ€™ll need to configure the <code class="language-plaintext highlighter-rouge">terraform</code> and <code class="language-plaintext highlighter-rouge">provider</code> configuration blocks in a <code class="language-plaintext highlighter-rouge">main.tf</code> file. Letâ€™s add the configuration for the provider source and provider configuration. You can find the latest versions available and other configuration options in the provider documentation <a href="https://registry.terraform.io/providers/Basis-Theory/basistheory">here</a>.</p> <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">terraform</span> <span class="p">{</span>
  <span class="nx">required_providers</span> <span class="p">{</span>
    <span class="nx">basistheory</span> <span class="p">=</span> <span class="p">{</span>
      <span class="nx">source</span>  <span class="p">=</span> <span class="s2">"basis-theory/basistheory"</span>
      <span class="nx">version</span> <span class="p">=</span> <span class="s2">"&gt;= 0.1.3"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">provider</span> <span class="s2">"basistheory"</span> <span class="p">{</span>
  <span class="nx">api_key</span> <span class="p">=</span> <span class="s2">"&lt;YOUR_API_KEY_HERE&gt;"</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="set-up-the-basistheory_reactor_formula-resource">Set up the basistheory_reactor_formula resource</h3> <p>Typically, resources are set up in a different file outside of <code class="language-plaintext highlighter-rouge">main.tf</code>. Letâ€™s create a new <code class="language-plaintext highlighter-rouge">reactor_formula.tf</code> file with the following configuration for our Reactor Formula. Feel free to modify the following configuration for your use case:</p> <p><span class="base-alert info"> <span> For more information about writing your own code for a Reactor Formula, check out <a href="/guides/run-your-own-code-in-a-reactor/">our guide</a>. </span> </span></p> <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">resource</span> <span class="s2">"basistheory_reactor_formula"</span> <span class="s2">"my_awesome_formula"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"My Awesome Reactor Formula"</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Do something awesome!"</span>
  <span class="nx">type</span>        <span class="p">=</span> <span class="s2">"private"</span>
  <span class="nx">icon</span>        <span class="p">=</span> <span class="s2">"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="</span>
  <span class="nx">code</span>        <span class="p">=</span> <span class="o">&lt;&lt;-</span><span class="no">EOT</span><span class="sh">
  module.exports = async function (req) {
    // Do something with `req.configuration.SERVICE_API_KEY`

    // Do anything here!

    return {
      raw: {
        foo: "bar"
      },
      tokenize: {}
    };
  };
</span><span class="no">  EOT

</span>  <span class="nx">configuration</span> <span class="p">{</span>
    <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"SERVICE_API_KEY"</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Configuration description"</span>
    <span class="nx">type</span>        <span class="p">=</span> <span class="s2">"string"</span>
  <span class="p">}</span>

  <span class="nx">request_parameter</span> <span class="p">{</span>
    <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"request_parameter_1"</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Request parameter description"</span>
    <span class="nx">type</span>        <span class="p">=</span> <span class="s2">"string"</span>
  <span class="p">}</span>

  <span class="nx">request_parameter</span> <span class="p">{</span>
    <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"request_parameter_2"</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Request parameter description"</span>
    <span class="nx">type</span>        <span class="p">=</span> <span class="s2">"boolean"</span>
    <span class="nx">optional</span>    <span class="p">=</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="set-up-a-basistheory_reactor-resource-from-the-reactor-formula">Set up a basistheory_reactor resource from the Reactor Formula</h3> <p>Next, we can create and configure a Reactor referencing the Reactor Formula ID of <code class="language-plaintext highlighter-rouge">basistheory_reactor_formula.my_awesome_formula.id</code>. Letâ€™s create a new <code class="language-plaintext highlighter-rouge">reactor.tf</code> file with the following configuration for our Reactor Formula. Feel free to modify the following configuration for your use case:</p> <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">variable</span> <span class="s2">"service_api_key"</span> <span class="p">{</span>
  <span class="nx">type</span>      <span class="p">=</span> <span class="nx">string</span>
  <span class="nx">sensitive</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">default</span>   <span class="p">=</span> <span class="s2">"foo"</span>
<span class="p">}</span>

<span class="k">resource</span> <span class="s2">"basistheory_reactor"</span> <span class="s2">"my_awesome_reactor"</span> <span class="p">{</span>
  <span class="nx">name</span>          <span class="p">=</span> <span class="s2">"My Awesome Reactor"</span>
  <span class="nx">formula_id</span>    <span class="p">=</span> <span class="nx">basistheory_reactor_formula</span><span class="p">.</span><span class="nx">my_awesome_formula</span><span class="p">.</span><span class="nx">id</span>
  <span class="nx">configuration</span> <span class="p">=</span> <span class="p">{</span>
    <span class="nx">SERVICE_API_KEY</span> <span class="p">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_api_key</span> <span class="c1"># default value can be overridden by setting TF_VAR_service_api_key environment variable</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="executing-terraform">Executing Terraform</h2> <p>Now that our configuration is set up, itâ€™s time to execute Terraform commands to create these resources within your Basis Theory Tenant.</p> <p>The first step in managing any resources via Terraform, is to initialize your directory with your configuration. There are many things that occur when initializing Terraform, one of which is downloading the <code class="language-plaintext highlighter-rouge">basistheory</code> provider from the public Terraform registry. Letâ€™s run the following <code class="language-plaintext highlighter-rouge">terraform</code> commands within the same directory containing your configuration.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>terraform init
</code></pre></div></div> <p>A prudent step to ensure you have a valid configuration is to run <code class="language-plaintext highlighter-rouge">basistheory</code>â€™s provider validations against your current configuration. This command uses local resources to validate against the downloaded provider and does not talk to any remote resources. If your configuration is valid the command prints out <code class="language-plaintext highlighter-rouge">Success! The configuration is valid.</code>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>terraform validate
</code></pre></div></div> <p>Finally, you can apply the configuration using the <code class="language-plaintext highlighter-rouge">apply</code> command. <code class="language-plaintext highlighter-rouge">apply</code> will output a plan Terraform intends to execute and waits for your confirmation. This plan contains differences between your current configuration and your current Terraform state. After reviewing the plan, type <code class="language-plaintext highlighter-rouge">yes</code> to create your Reactor Formula and Reactor within Basis Theory.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>terraform apply
</code></pre></div></div> <p>If all was successful, Terraform should output that 2 resources were successfully created. If you made it this far, pat yourself on the back! ðŸŽ‰ Youâ€™ve successfully created a Reactor Formula and configured a Reactor via Terraform! To find these new resources in the Basis Theory Portal, select the appropriate Tenant and then check out the available <a href="https://portal.basistheory.com/reactors/formulas">Reactor Formulas</a> and <a href="https://portal.basistheory.com/reactors">Reactors</a>.</p> <h2 id="using-terraform-to-manage-other-basis-theory-resources">Using Terraform to manage other Basis Theory resources</h2> <p>If youâ€™d like to manage other Basis Theory resources via Terraform, take a look at the other docs weâ€™ve made available in the <a href="https://registry.terraform.io/providers/Basis-Theory/basistheory/latest/docs">Terraform provider docs</a>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
